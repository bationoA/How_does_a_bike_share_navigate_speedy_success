---
title: "main"
author: "bationoA"
date: "2023-04-08"
output:
  html_document: default
  pdf_document: default
  fig_caption: yes
---

# Case Study: How does a bike-share navigate speedy success?
In this case study we will work for a fictional company, Cyclistic, a bike-share company in Chicago. For the director of marketing of the company’s, future success depends on maximizing the number of annual memberships. Therefore, rather than creating a marketing campaign that targets all-new customers, the director of marketing believes there is a
very good chance to convert casual riders into members. 

Source: [Link](https://d3c33hcgiwev3.cloudfront.net/aacF81H_TsWnBfNR_x7FIg_36299b28fa0c4a5aba836111daad12f1_DAC8-Case-Study-1.pdf?Expires=1681084800&Signature=WgKO~-LpPUMKTGb95H3tFbjTpbRvtu1nqBpjLACnTFrK6jBlggPYFa4lDd6jERYrYmrs7kP~4W~AJU4a3TgXhrp8XFq2c5L5gXwSIcBZNrDDKEeT1ZPXQzSUUGbFtvzy5iz-TyEvMJ-2ETjsA-oDex859GY-Ztjr8EitozVmK2w_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A)

In order to help the company design a new marketing strategy to convert casual riders into annual members, some questions need to be answered

* 1. How do annual members and casual riders use Cyclistic bikes differently?
* 2. Why would casual riders buy Cyclistic annual memberships?
* 3. How can Cyclistic use digital media to influence casual riders to become members?

This case study will focus on the first question.

## How do annual members and casual riders use Cyclistic bikes differently?

### 1. Business task
The objective is to analyze and compare the usage habits of annual members and casual riders of Cyclistic bicycles in order to identify differences in their behavior and preferences. The goal is to gain insights that can be used to design effective marketing strategies to convert casual cyclists into annual members. By understanding the key factors that influence user behavior and preferences, Cyclistic can tailor its marketing efforts to better meet the needs of casual cyclists and encourage them to become long-term loyal customers.


### 2. Description of data sources
The data used in this study are Cyclistic’s historical trip data. The initial case study suggests to get only the previous 12 months trips data but we will consider all data (from January 2015 to March 2023). This could give more insights regarding changes over years.

There are several csv files containing trips data ([seen list sata sets here](https://divvy-tripdata.s3.amazonaws.com/index.html)). The name of variables are not consistent across all data sets but they contain similar information. The information that can be found in these data sets are:

* trip_id: ID attached to each trip taken
* start_time: day and time trip started, in CST
* stop_time: day and time trip ended, in CST
* bikeid: ID attached to each bike
* tripduration: time of trip in seconds 
* from_station_name: name of station where trip originated
* to_station_name: name of station where trip terminated 
* from_station_id: ID of station where trip originated
* to_station_id: ID of station where trip terminated
* usertype: "Customer" is a rider who purchased a 24-Hour Pass; "Subscriber" is a rider who purchased an Annual Membership
* gender: gender of rider 

This project contains different files with different purpose:

* [first_step__extraction_script](https://github.com/bationoA/How_does_a_bike_share_navigate_speedy_success/blob/main/first_step__extraction_script.Rmd): Contains scripts to download all data sets, extract and combine relevant csv files. The extractions scripts can easily be modify to download only data sets based on years. The scripts in this file should be the first to be ran
* [second_step__Formating](https://github.com/bationoA/How_does_a_bike_share_navigate_speedy_success/blob/main/second_step__Formating.Rmd): To be ran at the after first_step__extraction_script, it contains scripts to consolidate the format of data sets (date-time), rename columns or combine all data sets into only 2
* [third_step__Cleaning](https://github.com/bationoA/How_does_a_bike_share_navigate_speedy_success/blob/main/third_step__Cleaning.Rmd): This contains scripts for cleaning the previous 2 data sets and combine them into one. 
* [fourth_step__analysis](https://github.com/bationoA/How_does_a_bike_share_navigate_speedy_success/blob/main/fourth_step__analysis.Rmd): This file contains scripts for all the analysis related to to case study


### 3. Summary of analysis
#### 1. In general

Comment: After removing the outliers it appears that 'member' subscription type of customers tend to use the bikes for shorter trips compared to the 'casual' customers. Let's assess the strength of this hypothesis throught a statistical test.

```{r fig1, echo=FALSE, fig.cap="Caption for the figure", out.width = "100%", fig.show='hold'}
knitr::include_graphics(file.path("outputs", "img", "box_plots__ride_duration_by_customer_type.png"))
```

#### 2. Annual
Overall, the number of bike rides each year is decreasing. However, it is worth noting that consumers with yearly subscriptions ('members') regularly take more bike journeys than casual customers over the course of the study.

From 2015 to March 2023, the average trip duration for 'member' customers does not show significant variation compared to 'casual' customers. However, 'casual' customers consistently use the bikes for much longer trips than 'member' customers, with trip duration ranging from 53% to 73% longer. This finding could suggest that casual customers may use the bikes for leisure or recreational purposes, while members may use them for more utilitarian purposes such as commuting. It also raises questions about the pricing structure and value proposition for casual customers, who may be paying more per trip compared to members but may not be utilizing the service as frequently. Further analysis of customer behavior and preferences could provide insights into potential strategies for increasing casual customer engagement and loyalty.

```{r fig2, echo=FALSE, fig.cap="", out.width = "100%"}
knitr::include_graphics(c(file.path("outputs", "img", "line_plots__average_number_of_rides_and_duration_per_customer_by_year.png")))
```

#### 3. Monthly

Comment: The number of bike rides for each type of customer appears to be normally distributed over the months. However, there is a clear trend that annual subscribers ('member') have been taking more bike trips per month compared to casual customers since 2015.

Comment: Based on the data, it appears that there is a significant difference in the average trip duration between casual customers and annual subscribers ('member') on a monthly basis. Despite a slight decrease in the average duration over time, casual customers consistently take longer bike trips compared to annual subscribers.

Comment: The average time spent for monthly trips by casual customers is more than the double of the average time spent by member customers.

```{r fig3, echo=FALSE, fig.cap="", out.width = "100%"}
knitr::include_graphics(c(file.path("outputs", "img", "bar_plots__average_number_of_rides_and_duration_per_customer_by_month.png")))
```

#### 4. Daily

Comment: Casual and member customers tend to use bikes at the same rate during weekends (Saturday and Sunday). However, during working days, member customers use the bikes 1 to 2 times more frequently than casual customer.

Comment: From 2015 to March 2023, casual customers have been using the bikes for longer than member customers

Comment: The average time spent for daily trips by casual customers is more than the double of the average time spent by member customers.

```{r fig4, echo=FALSE, fig.cap="", out.width = "100%"}
knitr::include_graphics(c(file.path("outputs", "img", "bar_plots__average_number_of_rides_and_duration_per_customer_by_day.png")))
```

#### 5. Testing the difference of trips duration between casual and member customers
From the above analysis it appeared that a clear difference exists between casual and member customers when it comes to the duration of their rides. In this section we'll use statistical tests to evaluate the significance of this difference. The tests will be on central trends such as means or medians.

The question we're trying to answer here is: Is there a significant difference in the duration of the trips between the two categories of customers (casual and member)? The results of different tests conducted are summarized in the bellow table.

```{r echo=FALSE}
knitr::kable(read.csv(file.path("data", "df_test_results.csv")), caption = "Test Results")
```

We've decided to run a T-Test (Student test) to compare the average trip duration of casual and member customers

First, we ran a homogeneity of variance test to check if the variances of the data were not statistically different in both groups. The result was not in our favor, and we had to reject the null hypothesis with more than 99.99% confidence. Next, we ran a normality test, which showed that the duration of the rides for both categories was not normally distributed. The results of these these two violate the [assumptions of a T-Test](fourth_step__analysis.Rmd). These violations of assumptions were taken into account before proceeding with the T-Test.

Despite the violated assumptions, we decided to conduct a T-Test, which resulted in rejecting the null hypothesis with more than 99.99% confidence. This means that there is a statistically significant difference in the average duration of trips between the two categories of customers. However, it was crucial to note that the assumptions for the T-Test were violated, therefore alternative tests are needed to add credit to this conclusion.

Finally, we decided to go for a non-parametric test (no assumptions are not required) called Wilcoxon, which tests the equality of medians. The result was in our favor as we had to reject the null hypothesis with more than 99.99% confidence. Thus, we concluded that the difference in the duration of trips between casual and member customers was statistically significant, regardless of the type of test used.

#### 6. Top 5 starting stations by customers type (members vs casual users)

There is a clear difference between casual and member customers in terms of starting station. Most casual riders start their trips at the 'Streeter Dr & Grand Ave' station (457,718 trips), with more than 2 times the number of started rides by member customers (124,443 trips). In the other hand member customers mostly go to the 'Clinton St & Washington Blvd' station to pick up a bike for their trip. However their number of rides (278,769 trips) less differ from the one of casual customers as it is just 0.92 times higher than the number of rides of casual customers.

```{r fig5, echo=FALSE, fig.cap="", out.width = "100%"}
knitr::include_graphics(c(file.path("outputs", "img", "bar_chart__number_of_rides_per_customer_by_top_5_start_station.png")))
```

#### 7. Bikes preference by customers type

number of rides and duration per bikes type and customers

### 4. Recommendations for an effective marketing strategy
Based on the results of the analysis, here are nine recommendations for designing marketing strategies aimed at converting casual riders into annual members:

* __1. Offer promotions and discounts for annual memberships during weekdays__: 
When member customers tend to use the bikes more often. This can encourage casual riders to become members and take advantage of the benefits of more frequent rides during weekdays.

* __2. Promote the benefits of annual membership for weekend riders__: 
Although casual and member customers have similar number of rides during weekends, annual members have more flexibility to take longer trips without worrying about extra fees. Marketing campaigns should emphasize this benefit to encourage casual riders to become annual members.

* __3. Offer incentives to encourage casual riders to use docked bikes more often__: 
Since casual riders account for the majority of trips made with docked bikes, incentives such as discounts or free rides can encourage them to become more loyal customers and potentially convert to annual members.

* __4. Focus marketing efforts on promoting the benefits of using bikes from different starting stations__: 
Since casual customers tend to use a specific starting station much more often, marketing campaigns should focus on the benefits of exploring different areas and using bikes from different starting stations. This can encourage casual riders to become more adventurous and potentially become annual members.

* __5. Highlight the cost savings of annual memberships for frequent riders__: 
The analysis shows that casual riders tend to use bikes for longer duration than annual members. Promoting the cost savings of an annual membership for frequent riders can encourage casual riders to become members and take advantage of the cost savings for longer trips.

* __6. Focus marketing efforts on promoting the benefits of using bikes from different starting stations__: 
Since casual customers tend to use a specific starting station much more often, marketing campaigns should focus on the benefits of exploring different areas and using bikes from different starting stations. This can encourage casual riders to become more adventurous and potentially become annual members.

* __7. Highlight the cost savings of annual memberships for frequent riders__: 
The analysis shows that casual riders tend to use bikes for longer duration than annual members. Promoting the cost savings of an annual membership for frequent riders can encourage casual riders to become members and take advantage of the cost savings for longer trips.

* __8. Offer membership trial periods__: 
The company can offer casual riders the chance to try out the annual membership for a certain period of time (e.g. a week or a month) to see if they would benefit from the service. This can help to increase the number of annual members by giving casual riders a chance to experience the benefits of an annual membership without committing to it fully.

* __9. Create a community for annual members__: 
Since annual members tend to be more frequent users of the service, the company can create a community for them to promote social interaction and encourage them to use the service more often. This can help to increase their loyalty to the service and encourage casual riders to convert to annual members.


### Act
Guiding questions
#### What is your final conclusion based on your analysis?
#### How could your team and business apply your insights?
#### What next steps would you or your stakeholders take based on your findings?
#### Is there additional data you could use to expand on your findings?




